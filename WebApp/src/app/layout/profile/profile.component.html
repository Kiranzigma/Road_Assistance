<app-navbar [title]="title">

</app-navbar>
<br>
<form [formGroup]="updateForm" fxLayout="column" class="flexColumn" (ngSubmit)="updateUser()">
    <div fxLayout = "row">
        <div fxFlex = "100%">
            <div fxLayoutAlign = "end">
                <button class="addAddressButton">Add Address</button>
            </div>
        </div>
    </div>
    <div fxLayout = "row" class="profileImage">
        <!-- <img fxFlex="128px" src="http://placehold.it/128x128" class="profileIcon" onclick="openUploadImageDialogue()"> -->
        <label class="hoverable" for="fileInput">
            <img [src]="url ? url : 'https://www.w3schools.com/howto/img_avatar.png'"> 
            <div class="hover-text">Choose file</div>
            <div class="background"></div>
        </label>
        <br/>
    </div> 
    <br>
        <input id="fileInput" type='file' (change)="onSelectFile($event)" accept="image/x-png,image/gif,image/jpeg">
        <div fxLayout="row">
            <div fxFlex="100%">
                <div fxLayoutAlign="center">
                    <button *ngIf="url" (click)="delete()" class="deleteButton" >Remove Photo</button>
                </div>
            </div>
        </div>

    <div fxLayout="row" class="formStart">
        <div fxFlex="50%">
            <mat-form-field fxLayoutAlign="center">
                <input type="text" matInput formControlName="firstName" placeholder="First Name" required>
            </mat-form-field>
        </div>
        <div fxFlex="50%">
            <mat-form-field fxLayoutAlign="center">
                <input type="text" matInput formControlName="lastName" placeholder="Last Name" required>
            </mat-form-field>
        </div>
    </div>
    <div fxLayout="row">
        <div fxFlex="50%">
            <mat-form-field fxLayoutAlign="center">
                <input type="text" readonly matInput formControlName="email" placeholder="Email">
            </mat-form-field>
        </div>
        <div fxFlex="50%">
            <mat-form-field fxLayoutAlign="center">
                <input type="text" matInput formControlName="mobile" placeholder="Mobile Number">
            </mat-form-field>
        </div>
    </div>
    <div fxLayout="row">
        <div fxFlex="50%">
            <mat-radio-group formControlName="gender" fxLayoutAlign="space-around" class="radioButton">
                <mat-radio-button value ="1">Male</mat-radio-button>
                <mat-radio-button value ="2">Female</mat-radio-button>
                <mat-radio-button value ="3">Other</mat-radio-button>
            </mat-radio-group>
        </div>
        <div fxFlex="50%">
            <mat-form-field fxLayoutAlign="center">
                <input type="password" readonly matInput formControlName="password" placeholder="Password">
            </mat-form-field>
        </div>
    </div>
    <div fxLayout="row">
        <div fxFlex="50%">
            <mat-form-field fxLayoutAlign="center">
                <input type="password" matInput formControlName="newPassword" placeholder="New Password">
                <mat-error *ngIf="rf.newPassword.invalid">{{getUpdateErrorMessage('userPassword')}}</mat-error>
            </mat-form-field>
        </div>
        <div fxFlex="50%">
            <mat-form-field fxLayoutAlign="center">
                <input type="password" matInput formControlName="confirmPassword" placeholder="Re-enter New Password">
                <mat-error *ngIf="rf.confirmPassword.invalid">{{getUpdateErrorMessage('confirmPassword')}}</mat-error>
            </mat-form-field>
        </div>
    </div>
    <br>
    <div fxLayout="row">
        <div fxFlex="100%">
            <div fxLayoutAlign="center">
                <button type="submit"  mat-button>Update</button>
            </div>
        </div>
    </div>
</form>